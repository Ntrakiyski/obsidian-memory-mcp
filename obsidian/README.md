# Obsidian + 0brainOS Integration - Roadmap Summary

**Last Updated**: 2026-01-19
**Version**: 2.0 (Updated for current project state)
**Purpose**: Implementation roadmap for integrating Obsidian Memory MCP with 0brainOS

---

## Quick Status Overview

| Phase | Goal | Status | Timeline |
|-------|------|--------|----------|
| **Phase 1** | Basic Obsidian MCP + Dashboard UI | âœ… **COMPLETE** | Done |
| **Phase 2** | Bidirectional Sync + Dashboard UI | ğŸ”„ **NEXT UP** | Week of Jan 20 |
| **Phase 3** | Scheduled Updates (Internal Agents) | ğŸ“… **PLANNED** | After Phase 2 |

---

## Current State (January 2026)

### âœ… What's Working (Phase 1 - Complete)

**Obsidian Memory MCP Server**:
- Deployed at `https://obsidian-mcp.trakiyski.work/mcp`
- 10 MCP tools fully functional
- MarkdownStorageManager handling CRUD operations
- Docker deployment with health checks

**Dashboard UI**:
- Deployed at `https://obsidian.trakiyski.work/`
- Next.js application with:
  - MCP Tools Explorer
  - View entities with observations
  - Graph visualization
  - Rich text editor (TipTap)

**Data Storage**:
- Entity files stored in `/app/data/root_vault/`
- YAML frontmatter + markdown body format
- Relations stored as Obsidian links: `[[related_to::Entity]]`

**0brainOS**:
- Neo4j backend fully functional
- 16+ MCP tools for memory management
- Five-sector cognitive ontology

---

### ğŸ”„ What's Next (Phase 2 - Week of Jan 20)

**Primary Goal: Bidirectional Sync + Dashboard UI Features**

Phase 2 enables bidirectional synchronization between 0brainOS (Neo4j) and Obsidian markdown files, PLUS adds dashboard UI features for viewing, editing, and monitoring sync status.

**Core Architecture**:
1. **sync_obsidian_neo4j tool** in Obsidian Memory MCP (TypeScript)
2. **0brainOS wrapper tool** `sync_with_obsidian()` that calls the Obsidian MCP tool
3. **5-minute cron job** for automatic bidirectional sync
4. **Conflict resolution**: Newest timestamp wins
5. **Dashboard UI**: View memories, edit entities, sync status component

**Data Flow**:
```
Every 5 Minutes:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  1. Cron Job Triggers â†’ sync_obsidian_neo4j()               â”‚
â”‚  2. Obsidian Memory MCP:                                    â”‚
â”‚     - Fetch new memories from 0brainOS (Neo4j)             â”‚
â”‚     - Create/update markdown files in vault                 â”‚
â”‚     - Read changed files from vault                         â”‚
â”‚     - Parse changes â†’ Update Neo4j via 0brainOS wrapper     â”‚
â”‚  3. Conflict Resolution: Newest timestamp wins             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Dashboard UI Features:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  - View All Memories page (filter by sector, search)        â”‚
â”‚  - Edit existing entities via TipTap editor                 â”‚
â”‚  - Sync Status component (countdown timer + "Sync now")     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**12 User Stories**:
1. Create `sync_obsidian_neo4j` tool in Obsidian MCP
2. Implement `fetchFromNeo4j` - Get new memories from 0brainOS
3. Implement `updateObsidianVault` - Write new entities as markdown
4. Implement `readChangedFiles` - Detect file changes in vault
5. Implement `updateNeo4j` - Sync file changes to Neo4j
6. Add `update_memory_observations` tool to 0brainOS
7. Add 0brainOS wrapper tool `sync_with_obsidian`
8. Implement 5-minute cron job
9. **View All Memories** - Dashboard page with filter/search
10. **Edit Existing Markdown Files** - TipTap editor integration
11. **Sync Status Component** - Countdown timer display
12. **Manual Sync Trigger** - "Sync now" button + API

**Estimated Effort**: 25 hours (3 days)

**NOT in Scope** (intentionally excluded):
- Creating new files from dashboard UI
- Bulk export features

---

### ğŸ“… What's Later (Phase 3 - After Phase 2)

**Scheduled Updates via Internal Agents (PocketFlow)**

Phase 3 enables automated daily/weekly updates generated by 0brainOS internal PocketFlow agents, with delivery via webhook.

**IMPORTANT ARCHITECTURE CHANGE**:
- **Removed**: n8n webhook approach (original Phase 3 design)
- **Added**: Internal agents/flows in 0brainOS generate content directly
- **Kept**: Webhook delivery mechanism for Gmail/Telegram notifications

**Architecture**:
```
Environment Variables (Configuration):
â”œâ”€â”€ MORNING_BRIEFING_ENABLED=true, TIME=07:00, SERVICE=gmail
â”œâ”€â”€ EVENING_RECAP_ENABLED=true, TIME=19:00, SERVICE=telegram
â””â”€â”€ WEEKLY_REVIEW_ENABLED=true, DAY=Sunday, TIME=07:00
        â”‚
        â–¼
Cron Jobs (5-min check):
â”œâ”€â”€ Check if update is due (within time window)
â””â”€â”€ If due: Trigger appropriate PocketFlow agent
        â”‚
        â–¼
0brainOS PocketFlow Agents:
â”œâ”€â”€ morning_briefing_flow â†’ Generate content â†’ POST to webhook
â”œâ”€â”€ evening_recap_flow â†’ Generate content â†’ POST to webhook
â””â”€â”€ weekly_review_flow â†’ Generate content â†’ POST to webhook
        â”‚
        â–¼
Webhook Endpoint:
â”œâ”€â”€ Receives POST with enhanced payload
â”œâ”€â”€ Routes to service (gmail/telegram)
â””â”€â”€ Delivers notification/email
```

**8 User Stories**:
1. Morning Briefing Agent (PocketFlow) - Internal flow for daily summaries
2. Evening Recap Agent (PocketFlow) - Internal flow for daily recaps
3. Weekly Review Agent (PocketFlow) - Internal flow for weekly analysis
4. Enhanced Webhook Payload - default_data + additional_data structure
5. Environment Variable Configuration - Settings via Coolify env vars
6. MCP Tools for Manual Triggers - trigger_* tools for testing
7. Cron Job for Scheduled Updates - 5-minute check cycle
8. Database Query Helper - get_memories_by_date_range function

**Estimated Effort**: 15 hours (2 days)

**Configuration**:
- Settings stored in environment variables (set via Coolify)
- Webhook payload structure: { default_data, additional_data }
- Service types: gmail | telegram
- Manual trigger tools for testing: `trigger_morning_briefing()`, `trigger_evening_recap()`, `trigger_weekly_review()`

---

## Architecture Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     CURRENT ARCHITECTURE                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚  Dashboard UI    â”‚         â”‚    0brainOS      â”‚             â”‚
â”‚  â”‚  (Next.js)       â”‚         â”‚   (Neo4j MCP)    â”‚             â”‚
â”‚  â”‚  - View entities â”‚         â”‚   - Memories     â”‚             â”‚
â”‚  â”‚  - MCP Explorer  â”‚         â”‚   - Relations    â”‚             â”‚
â”‚  â”‚  - Graph view    â”‚         â”‚   - Queries      â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚           â”‚                            â”‚                        â”‚
â”‚           â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚           â”‚     â”‚                                               â”‚
â”‚           â–¼     â–¼                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚   Obsidian Memory MCP       â”‚                              â”‚
â”‚  â”‚   - 10 MCP tools            â”‚                              â”‚
â”‚  â”‚   - MarkdownStorageManager  â”‚                              â”‚
â”‚  â”‚   - File operations         â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                 â”‚                                             â”‚
â”‚                 â–¼                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚  â”‚     File System             â”‚                              â”‚
â”‚  â”‚  /app/data/root_vault/*.md  â”‚                              â”‚
â”‚  â”‚  YAML + Markdown format     â”‚                              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Phase 2 Architecture (Coming Next Week)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PHASE 2 ARCHITECTURE (Sync Only)              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚              Cron Job (Every 5 Minutes)                  â”‚  â”‚
â”‚  â”‚                   sync_obsidian_neo4j()                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                          â”‚                                       â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚           Obsidian Memory MCP (TypeScript)                â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  1. Call 0brainOS: fetch new memories               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  2. Create/update markdown files in vault            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  3. Read changed files from vault                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  4. Call 0brainOS: update Neo4j with changes         â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                       â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚               0brainOS (Python)                           â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Wrapper Tool: sync_with_obsidian()                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Fetch new/modified memories from Neo4j           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Return memory data to Obsidian MCP               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Receive file updates â†’ Create/update Neo4j       â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                          â”‚                                       â”‚
â”‚                          â–¼                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                    Neo4j Database                         â”‚ â”‚
â”‚  â”‚              (Synaptic Graph: Bubbles + Clouds)           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  Conflict Resolution: Newest timestamp wins                    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Project Structure

```
C:\Users\nikol\Desktop\new-apps\0money\
â”‚
â”œâ”€â”€ 0brainOS/                    # Python cognitive OS
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ database/            # Neo4j integration
â”‚   â”‚   â”œâ”€â”€ tools/               # MCP tools (16+)
â”‚   â”‚   â”œâ”€â”€ flows/               # PocketFlow workflows
â”‚   â”‚   â””â”€â”€ tasks/               # Background tasks
â”‚   â”œâ”€â”€ brainos_server.py        # Main MCP server
â”‚   â””â”€â”€ pyproject.toml
â”‚
â”œâ”€â”€ obsidian-memory-mcp/         # TypeScript MCP server
â”‚   â”œâ”€â”€ index.ts                 # MCP server entry
â”‚   â”œâ”€â”€ types.ts                 # Type definitions
â”‚   â”œâ”€â”€ storage/
â”‚   â”‚   â””â”€â”€ MarkdownStorageManager.ts
â”‚   â”œâ”€â”€ dashboard/               # Next.js UI
â”‚   â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ package.json
â”‚   â”œâ”€â”€ data/                    # Obsidian vault
â”‚   â”‚   â””â”€â”€ root_vault/          # Entity MD files
â”‚   â”œâ”€â”€ obsidian/                # THIS FOLDER
â”‚   â”‚   â”œâ”€â”€ README.md            # This file
â”‚   â”‚   â”œâ”€â”€ phase1_user_stories.md
â”‚   â”‚   â”œâ”€â”€ phase2_user_stories.md
â”‚   â”‚   â””â”€â”€ phase3_user_stories.md
â”‚   â””â”€â”€ package.json
â”‚
â””â”€â”€ claude.md                    # Knowledge base
```

---

## Key Links

| Resource | URL/Path |
|----------|----------|
| Dashboard | https://obsidian.trakiyski.work/ |
| MCP Server | https://obsidian-mcp.trakiyski.work/mcp |
| Health Check | https://obsidian-mcp.trakiyski.work/health |
| Phase 1 Details | [phase1_user_stories.md](./phase1_user_stories.md) |
| Phase 2 Details | [phase2_user_stories.md](./phase2_user_stories.md) |
| Phase 3 Details | [phase3_user_stories.md](./phase3_user_stories.md) |

---

## Available MCP Tools

### Obsidian Memory MCP (10 tools)

| Tool | Description | Parameters |
|------|-------------|------------|
| `create_entities` | Create new entities | `entities` (array) |
| `create_relations` | Create relations | `relations` (array) |
| `add_observations` | Add observations | `observations` (array) |
| `delete_entities` | Delete entities | `entityNames` (array) |
| `delete_observations` | Remove observations | `deletions` (array) |
| `delete_relations` | Remove relations | `relations` (array) |
| `read_graph` | Get entire graph | - |
| `search_nodes` | Search entities | `query` (string) |
| `open_nodes` | Get specific entities | `names` (array) |
| `get_all_nodes` | Get all nodes | - |

### 0brainOS MCP (16+ tools)

| Tool | Description | Parameters |
|------|-------------|------------|
| `create_memory` | Store new memories | `content`, `sector`, `source`, etc. |
| `get_memory` | Retrieve specific memory | `memory_id` |
| `get_all_memories` | List all memories | - |
| `get_instinctive_memory` | Auto-activated retrieval | `context` |
| `get_memory_relations` | Deep contextual queries | `memory_id`, `depth` |
| `delete_memory` | Safe deletion | `memory_id` |
| `summarize_project` | AI-powered summaries | `project_path` |
| `get_system_health` | Neo4j + LLM status | - |

---

## Environment Variables

### Obsidian Memory MCP

```bash
# Server Configuration
PORT=6666
MEMORY_DIR=/app/data/root_vault
NODE_ENV=production

# Phase 2 (To be added)
SYNC_INTERVAL_MINUTES=5
NEO4J_MCP_URL=http://0brainOS:9131/mcp

# Phase 3 (To be added)
NOTIFICATION_WEBHOOK_URL=https://your-webhook-endpoint.com/notify
MORNING_BRIEFING_ENABLED=true
MORNING_BRIEFING_TIME=07:00
MORNING_BRIEFING_SERVICE=gmail
EVENING_RECAP_ENABLED=true
EVENING_RECAP_TIME=19:00
EVENING_RECAP_SERVICE=telegram
WEEKLY_REVIEW_ENABLED=true
WEEKLY_REVIEW_DAY=Sunday
WEEKLY_REVIEW_TIME=07:00
WEEKLY_REVIEW_SERVICE=gmail
```

### 0brainOS

```bash
# Neo4j Database
NEO4J_URI=bolt://localhost:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=your-password

# LLM Providers
GROQ_API_KEY=gsk_...
OPENROUTER_API_KEY=sk-or-...

# Phase 2 (To be added)
OBSIDIAN_MCP_URL=http://obsidian-memory-mcp:6666/mcp
ENABLE_OBSIDIAN_SYNC=true

# Phase 3 (To be added)
NOTIFICATION_WEBHOOK_URL=https://your-webhook-endpoint.com/notify
```

---

## Implementation Timeline

| Date | Milestone | Status |
|------|-----------|--------|
| 2026-01-13 | Initial design phase | âœ… Complete |
| 2026-01-15 | Phase 1 implementation | âœ… Complete |
| 2026-01-17 | Dashboard deployment | âœ… Complete |
| 2026-01-19 | Phase documentation updated | âœ… Complete |
| Week of Jan 20 | Phase 2: Bidirectional sync | ğŸ”„ Next |
| Week of Jan 27 | Phase 3: Scheduled updates | ğŸ“… Planned |

---

## Next Steps

### Immediate (This Week)

1. **Review Phase 2 plan** - Read `phase2_user_stories.md`
2. **Approve or adjust scope** - Provide feedback on sync-only approach
3. **Begin implementation** - Start with Story 1 (sync_obsidian_neo4j tool)

### Week of Jan 20

1. Create `sync_obsidian_neo4j` tool in Obsidian MCP
2. Implement bidirectional sync logic (Neo4j â†” Obsidian)
3. Add 0brainOS wrapper tool `sync_with_obsidian`
4. Implement 5-minute cron job
5. Test conflict resolution (newest timestamp wins)
6. Deploy and verify sync works correctly

### Week of Jan 27+ (After Phase 2)

1. Review Phase 3 plan (n8n webhook integration)
2. Implement dashboard UI for configuration
3. Create scheduled update tools in 0brainOS
4. Configure n8n workflows (user provides webhook URL)
5. Test morning briefing, evening recap, weekly review
6. Deploy and monitor

---

## Questions Before Starting Phase 2

1. **Sync interval** - 5 minutes confirmed for cron job?
2. **Conflict resolution** - "Newest timestamp wins" acceptable?
3. **0brainOS MCP endpoint** - What URL to use for calling 0brainOS from Obsidian MCP?
4. **Initial sync** - Should there be an initial one-time bulk sync, or start with incremental only?

---

**End of Roadmap Summary**

For detailed phase information, see:
- [Phase 1: Basic Integration](./phase1_user_stories.md) âœ… Complete
- [Phase 2: Bidirectional Sync](./phase2_user_stories.md) ğŸ”„ Next
- [Phase 3: Scheduled Updates](./phase3_user_stories.md) ğŸ“… Planned
